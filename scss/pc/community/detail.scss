// ============================================
// COMMUNITY DETAIL PAGE - Piller Template Style
// ============================================

// Design Tokens (Housen Brand)
$brand-green: #3B3F2B;
$accent-color: #E57E62;
$accent-hover: #d66a50;
$accent-light: rgba(229, 126, 98, 0.08);
$dark-text: #1A1A1A;
$secondary-text: #6F6F6F;
$light-text: #999999;
$border-color: #EEEEEE;
$bg-light: #FAFAFA;
$white: #FFFFFF;

#pc-wrap {
	#community-detail-page {
		position: relative;
		background: var(--bg-page);

		// ==========================================
		// HERO SECTION
		// ==========================================
		.community-hero {
			position: relative;
			width: 100%;
			height: 500px;
			overflow: hidden;

			.hero-banner {
				position: relative;
				width: 100%;
				height: 100%;

				img {
					width: 100%;
					height: 100%;
					object-fit: cover;
				}

				.hero-overlay {
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					background: rgba(59, 63, 43, 0.6);
				}

				.hero-content {
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					display: flex;
					align-items: center;
					justify-content: center;
					z-index: 1;

		.container {
						max-width: 1300px;
						width: 100%;
						margin: 0 auto;
						padding: 0 40px;
						display: flex;
			flex-direction: column;
						align-items: center;
						justify-content: center;

						.breadcrumb {
							display: flex;
							flex-direction: row;
							align-items: center;
							gap: 8px;
							margin-bottom: 24px;

							span {
								color: $white;
								font-family: $font;
								font-size: 14px;
								font-weight: 400;

								&.separator::before {
									content: 'â€“';
									margin-right: 8px;
									color: $white;
								}
							}

							a {
								text-decoration: none;
								span {
									color: $white;
									transition: color 0.3s ease;
									&:hover {
										color: rgba(255, 255, 255, 0.8);
									}
								}
							}
						}

						.page-title {
							color: $white;
							font-family: $font;
							font-size: 64px;
							font-weight: 400;
							line-height: 1.2;
							margin: 0;
							text-align: center;
						}
					}
				}
			}
		}

		// ==========================================
		// MAIN CONTENT WRAPPER
		// ==========================================
		.content-wrapper {
			padding: 60px 40px 100px;
			max-width: 1280px;
			margin: 0 auto;

			.main-container {
				max-width: 1280px;
				margin: 0 auto;
				display: flex;
				flex-direction: row;
				gap: 48px;
				align-items: flex-start;

				// ==========================================
				// LEFT COLUMN (70%)
				// ==========================================
				.left-column {
					flex: 1;
					max-width: calc(70% - 24px);
					display: flex;
					flex-direction: column;
					gap: 24px;

					// Page Header - Aesthetic Design
					.page-header {
						display: flex;
						flex-direction: row;
						justify-content: space-between;
						align-items: center;
						padding: 28px 32px;
						background: var(--bg-card);
						border-radius: 16px;
						border: 1px solid var(--border-soft);

						.header-content {
							display: flex;
							flex-direction: column;
							gap: 4px;

							.header-title {
								color: var(--text-primary);
								font-family: $font;
								font-size: 28px;
								font-weight: 700;
								letter-spacing: -0.5px;
							}

							.header-subtitle {
								color: var(--text-secondary);
								font-family: $font;
								font-size: 14px;
								font-weight: 400;
							}
						}

						.write-btn {
							padding: 12px 32px;
							background: $brand-green;
							color: $white;
							font-family: $font;
							font-size: 14px;
							font-weight: 600;
							border-radius: 8px;
							text-transform: none;
							transition: all 0.3s ease;

							&:hover {
								background: darken($brand-green, 5%);
								box-shadow: 0 4px 12px rgba(59, 63, 43, 0.25);
							}
						}
					}

					// Article Section
					.article-section {
						background: var(--bg-card);
						border: 1px solid var(--border-soft);
					border-radius: 12px;
						overflow: hidden;
						box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);

					// Featured Image
					.article-featured-image {
						width: 100%;
						height: 450px;
						overflow: hidden;

						img {
							width: 100%;
							height: 100%;
							object-fit: cover;
						}
					}

					// Meta Info Row
					.article-meta {
						display: flex;
						flex-direction: row;
						align-items: center;
						gap: 12px;
						padding: 24px 32px;
						border-bottom: 1px solid var(--border-soft);

						.author-avatar {
							width: 48px;
							height: 48px;
							border-radius: 50%;
							object-fit: cover;
							cursor: pointer;
							transition: transform 0.3s ease;

							&:hover {
								transform: scale(1.05);
							}
						}

						.author-name {
							color: var(--text-primary);
								font-family: $font;
								font-size: 15px;
								font-weight: 600;
							cursor: pointer;
							transition: color 0.3s ease;

							&:hover {
								color: $accent-color;
							}
						}

						.meta-dot {
							color: var(--text-secondary);
							font-size: 14px;
						}

						.meta-date {
							color: var(--text-secondary);
						font-family: $font;
						font-size: 14px;
						}

						.meta-category {
							color: $accent-color;
							font-family: $font;
							font-size: 13px;
							font-weight: 600;
							text-transform: uppercase;
							padding: 4px 12px;
							background: $accent-light;
							border-radius: 4px;
						}
					}

					// Article Title
					.article-title {
						padding: 32px 32px 24px;
						color: var(--text-primary);
						font-family: $font;
						font-size: 32px;
						font-weight: 600;
						line-height: 1.4;
						letter-spacing: -0.3px;
					}

					// Article Body
					.article-body {
						padding: 0 32px 32px;

						.toastui-editor-contents,
						.ytb_play {
							color: var(--text-primary);
							font-family: $font;
							font-size: 16px;
							line-height: 1.75;

							p {
								margin-bottom: 20px;
							}

							h1, h2, h3, h4, h5, h6 {
								margin-top: 32px;
								margin-bottom: 16px;
								font-weight: 600;
								color: var(--text-primary);
							}

							img {
								border-radius: 8px;
								margin: 24px 0;
								max-width: 100%;
							}

							ul, ol {
								margin-bottom: 20px;
								padding-left: 24px;

								li {
									margin-bottom: 8px;
									position: relative;

									&::marker {
										color: $accent-color;
									}
								}
							}

							blockquote {
								border-left: 4px solid $accent-color;
								padding: 16px 24px;
								margin: 24px 0;
								background: $accent-light;
								border-radius: 0 8px 8px 0;
								font-style: italic;
							}

							a {
								color: $accent-color;
								text-decoration: underline;

								&:hover {
									color: $accent-hover;
								}
							}
						}
					}

					// Action Bar
					.action-bar {
						display: flex;
						flex-direction: row;
						align-items: center;
						gap: 16px;
						padding: 20px 32px;
						border-top: 1px solid var(--border-soft);
						border-bottom: 1px solid var(--border-soft);
						background: var(--bg-section);

						.action-btn {
							display: flex;
							flex-direction: row;
							align-items: center;
							gap: 8px;
							padding: 10px 20px;
							background: var(--bg-card);
							border: 1px solid var(--border-soft);
							border-radius: 8px;
							color: var(--text-secondary);
							font-family: $font;
							font-size: 14px;
							font-weight: 500;
							cursor: pointer;
							transition: all 0.3s ease;
							text-transform: none;

							svg {
								font-size: 20px;
							}

							&:hover {
								border-color: $accent-color;
								background: $accent-light;
								color: $accent-color;
							}

							&.liked {
								border-color: $accent-color;
								background: $accent-color;
								color: $white;
							}
						}
					}

					// Comments Section
					.comments-section {
						padding: 32px;

						.section-title {
							color: var(--text-primary);
							font-family: $font;
							font-size: 22px;
							font-weight: 600;
							margin-bottom: 24px;
						}

						// Comment Input
						.comment-input-box {
							margin-bottom: 32px;
							border: 1px solid var(--border-soft);
							border-radius: 8px;
							overflow: hidden;
							background: var(--bg-card);

							input {
								width: 100%;
								padding: 16px 20px;
								border: none;
								outline: none;
								font-family: $font;
								font-size: 15px;
								color: var(--text-primary);
								background: var(--bg-card);

								&::placeholder {
									color: var(--text-secondary);
								}
							}

							.comment-input-footer {
								display: flex;
								flex-direction: row;
								justify-content: space-between;
								align-items: center;
								padding: 12px 20px;
								background: var(--bg-section);
								border-top: 1px solid var(--border-soft);

								.char-count {
									color: var(--text-secondary);
									font-family: $font;
									font-size: 13px;
								}

								.submit-btn {
									padding: 8px 24px;
									background: $brand-green;
									color: $white;
										font-family: $font;
									font-size: 14px;
									font-weight: 500;
									border-radius: 8px;
									text-transform: none;
									transition: all 0.3s ease;

									&:hover {
										background: darken($brand-green, 5%);
									}
								}
							}
						}

						// Comments List
						.comments-list {
							display: flex;
							flex-direction: column;
							gap: 20px;

							.comment-item {
								padding: 20px;
								background: var(--bg-section);
								border-radius: 8px;
								transition: box-shadow 0.3s ease;

								&:hover {
									box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
								}

								.comment-header {
									display: flex;
										flex-direction: row;
										align-items: center;
									gap: 12px;
									margin-bottom: 12px;

									img {
										width: 42px;
										height: 42px;
										border-radius: 50%;
										object-fit: cover;
											cursor: pointer;
										}

									.comment-author {
										flex: 1;

										.name {
											color: var(--text-primary);
											font-family: $font;
											font-size: 15px;
											font-weight: 600;
											cursor: pointer;
											transition: color 0.3s ease;

											&:hover {
												color: $accent-color;
										}
										}

										.date {
											color: var(--text-secondary);
											font-family: $font;
											font-size: 12px;
										}
									}

									.comment-actions {
										display: flex;
										flex-direction: row;
										gap: 4px;

										button {
											width: 32px;
											height: 32px;
											padding: 0;

											svg {
												font-size: 18px;
												color: var(--text-secondary);
											}

											&:hover svg {
												color: $accent-color;
											}
										}
									}
								}

								.comment-text {
									color: var(--text-primary);
									font-family: $font;
									font-size: 15px;
									line-height: 1.6;
								}
							}
						}

						// Pagination
						.pagination-box {
							display: flex;
							justify-content: center;
							margin-top: 32px;

							.MuiPaginationItem-root {
								font-family: $font;
								color: var(--text-secondary);

								&.Mui-selected {
									background: $accent-color;
									color: $white;

									&:hover {
										background: $accent-hover;
									}
								}
								
								&:hover {
									background: var(--bg-section);
								}
							}
						}
					}
					}
				}

				// ==========================================
				// RIGHT: SIDEBAR (30%)
				// ==========================================
				.sidebar {
					width: 30%;
					min-width: 320px;
					display: flex;
					flex-direction: column;
					gap: 0;
					background: var(--bg-card);
					border: 1px solid var(--border-soft);
					border-radius: 12px;
					box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
					overflow: hidden;
					position: sticky;
					top: 100px;

					.sidebar-section {
						padding: 28px;
						border-bottom: 1px solid var(--border-soft);

						&:last-child {
							border-bottom: none;
						}

						.sidebar-title {
							color: var(--text-primary);
							font-family: $font;
							font-size: 18px;
							font-weight: 600;
							margin-bottom: 20px;
						}

						// Search Form
						.search-form {
							display: flex;
									flex-direction: row;
									align-items: center;
							border: 1px solid var(--border-soft);
							border-radius: 8px;
							overflow: hidden;
							background: var(--bg-card);

							input {
								flex: 1;
								padding: 12px 16px;
								border: none;
								outline: none;
								font-family: $font;
								font-size: 14px;
								background: var(--bg-card);
								color: var(--text-primary);

								&::placeholder {
									color: var(--text-secondary);
								}
							}

									button {
								padding: 12px;
								background: var(--bg-section);
								border-left: 1px solid var(--border-soft);

								svg {
									font-size: 20px;
									color: var(--text-secondary);
								}

								&:hover {
									background: $accent-light;

									svg {
										color: $accent-color;
									}
								}
							}
						}

						// Categories
						.categories-list {
							display: flex;
							flex-direction: column;
							gap: 8px;

							.category-btn {
								width: 100%;
								padding: 12px 16px;
								background: var(--bg-section);
								border: 1px solid transparent;
								border-radius: 8px;
								color: var(--text-secondary);
								font-family: $font;
								font-size: 14px;
								font-weight: 500;
								text-align: left;
								text-transform: none;
								transition: all 0.3s ease;

								&:hover {
									border-color: $accent-color;
									color: $accent-color;
									transform: translateX(4px);
								}

								&.active {
									background: $brand-green;
									color: $white;
									font-weight: 600;
								}
							}
						}

						// Latest Posts
						.latest-posts {
							display: flex;
							flex-direction: column;
							gap: 16px;

							.loading-text,
							.no-data-text {
								color: var(--text-secondary);
										font-family: $font;
										font-size: 14px;
								text-align: center;
								padding: 16px 0;
									}

							.latest-post-item {
								display: flex;
									flex-direction: row;
								gap: 12px;
								cursor: pointer;
								transition: transform 0.3s ease;

								&:hover {
									transform: translateX(4px);

									.post-title {
										color: $accent-color;
									}
								}

								img {
									width: 60px;
									height: 60px;
									min-width: 60px;
									border-radius: 8px;
									object-fit: cover;
								}

								.post-info {
									flex: 1;

									.post-title {
										color: var(--text-primary);
										font-family: $font;
										font-size: 14px;
										font-weight: 600;
										line-height: 1.4;
										display: -webkit-box;
										-webkit-line-clamp: 2;
										-webkit-box-orient: vertical;
										overflow: hidden;
										margin-bottom: 6px;
										transition: color 0.3s ease;
									}

									.post-meta {
										display: flex;
										flex-direction: row;
										align-items: center;
										gap: 6px;
										color: var(--text-secondary);
										font-family: $font;
										font-size: 12px;
									}
								}
							}
						}

						// Contact Form
						&.contact-section {
							.contact-form {
								display: flex;
								flex-direction: column;
								gap: 12px;

								input, textarea {
									width: 100%;
									padding: 12px 16px;
									border: 1px solid var(--border-soft);
									border-radius: 8px;
												font-family: $font;
									font-size: 14px;
									outline: none;
									transition: border-color 0.3s ease;
									background: var(--bg-card);
									color: var(--text-primary);

									&::placeholder {
										color: var(--text-secondary);
									}

									&:focus {
										border-color: $accent-color;
											}
										}

								textarea {
									resize: vertical;
									min-height: 100px;
									}

								.contact-btn {
									width: 100%;
									padding: 14px;
									background: $brand-green;
									color: $white;
										font-family: $font;
									font-size: 14px;
									font-weight: 600;
									border-radius: 8px;
									text-transform: none;
									transition: background 0.3s ease;

									&:hover {
										background: darken($brand-green, 5%);
									}
								}
							}
						}

						// Promo Section
						&.promo-section {
							text-align: center;

							.promo-image {
								width: 100%;
								height: 140px;
								object-fit: cover;
								border-radius: 8px;
								margin-bottom: 16px;
									}

							.promo-title {
								color: var(--text-primary);
								font-family: $font;
								font-size: 18px;
								font-weight: 600;
								margin-bottom: 8px;
							}

							.promo-text {
								color: var(--text-secondary);
								font-family: $font;
								font-size: 14px;
								line-height: 1.5;
								margin-bottom: 16px;
							}

							.promo-btn {
								width: 100%;
								padding: 14px;
								background: $brand-green;
								color: $white;
								font-family: $font;
								font-size: 14px;
								font-weight: 600;
								border-radius: 8px;
								text-transform: none;
								transition: background 0.3s ease;

								&:hover {
									background: darken($brand-green, 5%);
								}
							}
						}
					}
				}
			}
		}

		// ==========================================
		// EDIT BACKDROP
		// ==========================================
		.edit-backdrop {
			z-index: 9999;

				.edit-modal {
				width: 500px;
				max-width: 90%;
				background: var(--bg-card);
				border: 1px solid var(--border-soft);
				border-radius: 12px;
				padding: 32px;
				box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);

				.modal-title {
					color: var(--text-primary);
					font-family: $font;
					font-size: 20px;
					font-weight: 600;
					margin-bottom: 20px;
				}

				input {
					width: 100%;
					padding: 14px 16px;
					border: 1px solid var(--border-soft);
					border-radius: 8px;
					font-family: $font;
					font-size: 15px;
					outline: none;
					margin-bottom: 16px;
					background: var(--bg-card);
					color: var(--text-primary);

					&:focus {
						border-color: $accent-color;
					}
					
					&::placeholder {
						color: var(--text-secondary);
					}
				}

				.modal-footer {
					display: flex;
					flex-direction: row;
					justify-content: space-between;
					align-items: center;

					.char-count {
						color: var(--text-secondary);
						font-family: $font;
						font-size: 13px;
					}

					.modal-actions {
						display: flex;
						flex-direction: row;
						gap: 12px;

						.cancel-btn {
							padding: 10px 24px;
							background: var(--bg-section);
							color: var(--text-secondary);
							font-family: $font;
							font-size: 14px;
							font-weight: 500;
							border-radius: 8px;
							text-transform: none;

							&:hover {
								background: var(--border-soft);
							}
						}

						.update-btn {
							padding: 10px 24px;
							background: $brand-green;
							color: $white;
							font-family: $font;
							font-size: 14px;
							font-weight: 500;
							border-radius: 8px;
							text-transform: none;

							&:hover {
								background: darken($brand-green, 5%);
							}
						}
					}
				}
			}
		}
	}
}

// ==========================================
// RESPONSIVE - Tablet
// ==========================================
@media screen and (max-width: 1024px) {
	#pc-wrap #community-detail-page {
		.content-wrapper {
			.main-container {
				flex-direction: column;

				.left-column {
					max-width: 100%;

					.article-section {
						max-width: 100%;
					}
				}

				.sidebar {
					width: 100%;
					position: static;
				}
			}
		}
	}
}

// ==========================================
// RESPONSIVE - Mobile
// ==========================================
@media screen and (max-width: 768px) {
	#pc-wrap #community-detail-page {
		.community-hero {
			height: 350px;

			.hero-banner .hero-content .container {
				padding: 0 20px;

				.page-title {
					font-size: 42px;
				}
			}
		}

		.content-wrapper {
			padding: 40px 20px 60px;

			.main-container {
				.left-column {
					.page-header {
						padding: 20px 24px;
						flex-direction: column;
						align-items: flex-start;
						gap: 16px;

						.header-content {
							.header-title {
								font-size: 22px;
							}
						}

						.write-btn {
							width: 100%;
							justify-content: center;
							padding: 12px 24px;
						}
					}
				}
			}

			.main-container {
				gap: 32px;

				.article-section {
					.article-featured-image {
						height: 280px;
					}

					.article-meta {
						flex-wrap: wrap;
						padding: 20px 24px;
					}

					.article-title {
						padding: 24px 24px 16px;
						font-size: 26px;
					}

					.article-body {
						padding: 0 24px 24px;
					}

					.action-bar {
						padding: 16px 24px;
						flex-wrap: wrap;
					}

					.comments-section {
						padding: 24px;
					}
				}

				.sidebar {
					.sidebar-section {
						padding: 20px;
					}
				}
			}
		}

		.edit-backdrop .edit-modal {
			padding: 24px;
		}
	}
}

// ==========================================
// RESPONSIVE - Small Mobile
// ==========================================
@media screen and (max-width: 480px) {
	#pc-wrap #community-detail-page {
		.community-hero {
			height: 280px;

			.hero-banner .hero-content .container {
				.page-title {
					font-size: 32px;
				}

				.breadcrumb {
					font-size: 12px;
				}
			}
		}

		.content-wrapper {
			padding: 24px 16px 40px;

			.main-container {
				.article-section {
					.article-featured-image {
						height: 220px;
					}

					.article-meta {
						padding: 16px 20px;
						flex-direction: column;
						align-items: flex-start;
						gap: 8px;

						.meta-dot {
							display: none;
						}
					}

					.article-title {
						padding: 20px 20px 12px;
						font-size: 22px;
					}

					.article-body {
						padding: 0 20px 20px;
						font-size: 15px;
					}

					.action-bar {
						padding: 12px 20px;
						gap: 8px;

						.action-btn {
							padding: 8px 14px;
							font-size: 13px;
						}
					}

					.comments-section {
						padding: 20px;

						.section-title {
							font-size: 18px;
						}
					}
				}
			}
		}
	}
}
